(this["webpackJsonpreact-complete-guide"]=this["webpackJsonpreact-complete-guide"]||[]).push([[0],[,,,function(e,t,n){e.exports={form:"Checkout_form__2BOqd",control:"Checkout_control__1C95z",actions:"Checkout_actions__1jRYw",submit:"Checkout_submit__2s7d7",invalid:"Checkout_invalid__1WCRe"}},function(e,t,n){e.exports={cartItems:"Cart_cartItems__RkUGt",total:"Cart_total__3dwJg",actions:"Cart_actions__11go2",buttonAlt:"Cart_buttonAlt__8YxnV",button:"Cart_button__32se9",orderSuccess:"Cart_orderSuccess__2IxoJ",sending:"Cart_sending__10C1h"}},,function(e,t,n){e.exports={cartItem:"CartItem_cartItem__1_-cz",summary:"CartItem_summary__37Ciy",price:"CartItem_price__2kTJG",amount:"CartItem_amount__1Mvxy",actions:"CartItem_actions__J4VUP"}},,function(e,t,n){e.exports={button:"HeaderCartButton_button__WA2PS",icon:"HeaderCartButton_icon__2_2eV",badge:"HeaderCartButton_badge__38vXl",bump:"HeaderCartButton_bump__SS53_"}},function(e,t,n){e.exports={meals_container:"Meals_meals_container__1yVxj",meals:"Meals_meals__5KjyJ","meals-appear":"Meals_meals-appear__115wf",loading:"Meals_loading__2RqZr",error:"Meals_error__9VYFk"}},function(e,t,n){e.exports={summary__intro:"MealSummary_summary__intro__1glFX",summary__content:"MealSummary_summary__content__2dzSg"}},,function(e,t,n){e.exports={header__nav:"Header_header__nav__2IBhN",header__image:"Header_header__image__3QZ7k"}},function(e,t,n){e.exports={meal:"MealItems_meal__3cMoh",description:"MealItems_description__20XYe",price:"MealItems_price__3V3xI"}},function(e,t,n){e.exports={backdrop:"Modal_backdrop__32dsy",modal:"Modal_modal__2ao6C","slide-down":"Modal_slide-down__1Q0un"}},,,function(e,t,n){e.exports={card:"Card_card__1tNgP"}},function(e,t,n){e.exports={form:"MealItemForm_form__2Zp30"}},function(e,t,n){e.exports={input:"Input_input__AZRuA"}},,,,,,,,,function(e,t,n){},,function(e,t,n){"use strict";n.r(t);var a,c=n(16),r=n.n(c),s=(n(28),n(2)),o=n(1),i=n.n(o),l=n(12),u=n.n(l),d=n(8),m=n.n(d),j=["title","titleId"];function b(){return b=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var a in n)Object.prototype.hasOwnProperty.call(n,a)&&(e[a]=n[a])}return e},b.apply(this,arguments)}function O(e,t){if(null==e)return{};var n,a,c=function(e,t){if(null==e)return{};var n,a,c={},r=Object.keys(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||(c[n]=e[n]);return c}(e,t);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);for(a=0;a<r.length;a++)n=r[a],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(c[n]=e[n])}return c}function _(e,t){var n=e.title,c=e.titleId,r=O(e,j);return o.createElement("svg",b({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",ref:t,"aria-labelledby":c},r),n?o.createElement("title",{id:c},n):null,a||(a=o.createElement("path",{d:"M3 1a1 1 0 000 2h1.22l.305 1.222a.997.997 0 00.01.042l1.358 5.43-.893.892C3.74 11.846 4.632 14 6.414 14H15a1 1 0 000-2H6.414l1-1H14a1 1 0 00.894-.553l3-6A1 1 0 0017 3H6.28l-.31-1.243A1 1 0 005 1H3zM16 16.5a1.5 1.5 0 11-3 0 1.5 1.5 0 013 0zM6.5 18a1.5 1.5 0 100-3 1.5 1.5 0 000 3z"})))}var h=o.forwardRef(_),f=(n.p,i.a.createContext({items:[],totalAmount:0,addItem:function(e){},removeItem:function(e){},clearCart:function(){}})),x=n(0),p=function(e){var t=Object(o.useState)(!1),n=Object(s.a)(t,2),a=n[0],c=n[1],r=Object(o.useContext)(f).items,i=0===r.length?0:r.reduce((function(e,t){return e+t.amount}),0),l="".concat(m.a.button," ").concat(a?m.a.bump:"");return Object(o.useEffect)((function(){if(console.log("here"),0!==i){c(!0);var e=setTimeout((function(){c(!1)}),300);return function(){clearTimeout(e)}}}),[i]),Object(x.jsxs)("button",{className:l,onClick:e.onClick,children:[Object(x.jsx)("span",{className:m.a.icon,children:Object(x.jsx)(h,{})}),Object(x.jsx)("span",{children:"Your Cart"}),Object(x.jsx)("span",{className:m.a.badge,children:i})]})},v=function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsxs)("div",{className:u.a.header__nav,children:[Object(x.jsx)("h2",{className:u.a.header__title,children:"ReactMeals"}),Object(x.jsx)(p,{onClick:e.onShowCart})]}),Object(x.jsx)("div",{className:u.a.header__image})]})},C=n(5),y=n(11),g=n(17),N=n.n(g),k=function(e){return Object(x.jsx)("div",{className:N.a.card,children:e.children})},S=n(13),A=n.n(S),I=n(18),w=n.n(I),M=n(7),R=n(19),E=n.n(R),P=i.a.forwardRef((function(e,t){return Object(x.jsxs)("div",{className:E.a.input,children:[Object(x.jsx)("label",{htmlFor:e.input.id,children:e.label}),Object(x.jsx)("input",Object(M.a)({ref:t},e.input))]})})),F=function(e){var t=Object(o.useState)(!0),n=Object(s.a)(t,2),a=n[0],c=n[1],r=Object(o.useRef)();e.id;return Object(x.jsxs)("form",{className:w.a.form,onSubmit:function(t){t.preventDefault();var n=r.current.value,a=+n;console.log(n),0===n.trim().length||a<1||a>5?c(!1):(r.current.value=1,e.onAddToCart(a))},children:[Object(x.jsx)(P,{ref:r,label:"Amount",input:{id:"amount"+e.id,type:"number",min:"1",max:"5",step:"1",defaultValue:"1"}}),Object(x.jsx)("button",{children:"+ Add"}),!a&&Object(x.jsx)("p",{children:"Please enter a valid amount (1-5)."})]})},H=function(e){var t=Object(o.useContext)(f);return Object(x.jsxs)("li",{className:A.a.meal,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h3",{children:e.name}),Object(x.jsx)("div",{className:A.a.description,children:e.description}),Object(x.jsxs)("div",{className:A.a.price,children:["$",e.price]})]}),Object(x.jsx)("div",{children:Object(x.jsx)(F,{id:e.id,onAddToCart:function(n){t.addItem({id:e.id,name:e.name,amount:n,price:e.price}),console.log(t.items,t.totalAmount)}})})]})},T=n(9),V=n.n(T),B=n(10),D=n.n(B),J=function(){return console.log("MealSummary running"),Object(x.jsxs)("div",{className:D.a.summary__intro,children:[Object(x.jsx)("h2",{className:D.a.summary__introTitle,children:"Delicious Food, Deliverd To You"}),Object(x.jsx)("p",{className:D.a.summary__content,children:"Choose your favorite meal from our broad selection of available meals and enjoy a delicious lunch or dinner at home."}),Object(x.jsx)("p",{className:D.a.summary__content,children:"All our meals are cooked with high-quality ingredients, just-in-time and of course by experienced chefs!"})]})},Y=i.a.memo(J),z=function(){var e=Object(o.useState)([]),t=Object(s.a)(e,2),n=t[0],a=t[1],c=Object(o.useState)(!0),r=Object(s.a)(c,2),i=r[0],l=r[1],u=Object(o.useState)(null),d=Object(s.a)(u,2),m=d[0],j=d[1];Object(o.useEffect)((function(){var e=function(){var e=Object(y.a)(Object(C.a)().mark((function e(){var t,n,c,r;return Object(C.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch("https://food-98796-default-rtdb.firebaseio.com/meals.json");case 2:if((n=e.sent).ok){e.next=5;break}throw new Error("Something went error~ Error Code is ".concat(n.status));case 5:return e.next=7,n.json();case 7:if(e.t1=t=e.sent,e.t0=null!==e.t1,!e.t0){e.next=11;break}e.t0=void 0!==t;case 11:if(!e.t0){e.next=15;break}e.t2=t,e.next=16;break;case 15:e.t2=!1;case 16:if(c=e.t2){e.next=19;break}throw new Error("No data found!!");case 19:r=Object.entries(c).map((function(e){return e[1]})),a(r),l(!1);case 22:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}}();e().catch((function(e){l(!1),j(e.message)}))}),[]);var b,O=n.map((function(e){return Object(x.jsx)(H,{id:e.id,name:e.name,price:e.price,description:e.description},e.id)}));return i&&(b=Object(x.jsx)("p",{className:V.a.loading,children:"Loading..."})),m&&(b=Object(x.jsx)("p",{className:V.a.error,children:m})),i||m||(b=Object(x.jsx)("ul",{children:O})),Object(x.jsxs)("div",{className:V.a.meals_container,children:[Object(x.jsx)(Y,{}),Object(x.jsx)("section",{className:V.a.meals,children:Object(x.jsx)(k,{children:b})})]})},Z={items:[],totalAmount:0},q=function(e,t){var n=0;switch(t.type){case"ADD":var a=e.items.findIndex((function(e){return e.id===t.items.id}));return-1===a?e.items.push(t.items):(e.items[a].amount+=t.items.amount,e.items[a].amount=e.items[a].amount>5?5:e.items[a].amount),n=e.items.reduce((function(e,t){return e+t.amount*t.price}),0),e.totalAmount=Math.round(100*n)/100,{items:e.items,totalAmount:e.totalAmount};case"REMOVE":var c=e.items.findIndex((function(e){return e.id===t.id}));return e.items[c].amount-=1,0===e.items[c].amount&&e.items.splice(c,1),n=e.items.reduce((function(e,t){return e+t.amount*t.price}),0),e.totalAmount=Math.round(100*n)/100,{items:e.items,totalAmount:e.totalAmount};case"CLEAR":return{items:[],totalAmount:0};default:throw new Error}},L=function(e){var t=Object(o.useReducer)(q,Z),n=Object(s.a)(t,2),a=n[0],c=n[1],r={items:a.items,totalAmount:a.totalAmount,addItem:function(e){c({type:"ADD",items:e})},removeItem:function(e){c({type:"REMOVE",id:e})},clearCart:function(){c({type:"CLEAR"})}};return Object(x.jsx)(f.Provider,{value:r,children:e.children})},X=n(14),$=n.n(X),G=function(e){return Object(x.jsx)("div",{className:$.a.backdrop,onClick:e.onClose})},Q=function(e){return Object(x.jsx)("div",{className:$.a.modal,children:Object(x.jsx)("div",{className:$.a.content,children:e.children})})},U=function(e){return Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(G,{onClose:e.onClose}),Object(x.jsx)(Q,{children:e.children})]})},W=n(4),K=n.n(W),ee=n(6),te=n.n(ee),ne=function(e){return Object(x.jsxs)("li",{className:te.a.cartItem,children:[Object(x.jsxs)("div",{children:[Object(x.jsx)("h2",{children:e.name}),Object(x.jsxs)("div",{className:te.a.summary,children:[Object(x.jsxs)("span",{className:te.a.price,children:["$",e.price]}),Object(x.jsxs)("span",{className:te.a.amount,children:["x ",e.amount]})]})]}),Object(x.jsxs)("div",{className:te.a.actions,children:[Object(x.jsx)("button",{onClick:e.onRemove,children:"\u2212"}),Object(x.jsx)("button",{onClick:e.onAdd,children:"+"})]})]})},ae=n(3),ce=n.n(ae),re=function(e){var t=function(e){return""===e.trim()},n=Object(o.useState)({name:!0,street:!0,city:!0,postalCode:!0}),a=Object(s.a)(n,2),c=a[0],r=a[1],i=Object(o.useRef)(),l=Object(o.useRef)(),u=Object(o.useRef)(),d=Object(o.useRef)(),m="".concat(ce.a.control," ").concat(c.name?"":ce.a.invalid),j="".concat(ce.a.control," ").concat(c.street?"":ce.a.invalid),b="".concat(ce.a.control," ").concat(c.postalCode?"":ce.a.invalid),O="".concat(ce.a.control," ").concat(c.city?"":ce.a.invalid);return Object(x.jsxs)("form",{className:ce.a.form,onSubmit:function(n){n.preventDefault();var a=i.current.value,c=l.current.value,s=u.current.value,o=d.current.value,m=!t(a),j=!t(c),b=!t(o),O=5===s.trim().length;r({name:m,street:j,city:b,postalCode:O}),m&&j&&b&&O&&e.onOrderSubmit({name:a,street:c,city:o,postalCode:s})},children:[Object(x.jsxs)("div",{className:m,children:[Object(x.jsx)("label",{htmlFor:"name",children:"Your Name"}),Object(x.jsx)("input",{type:"text",id:"name",ref:i}),!c.name&&Object(x.jsx)("p",{children:"Please enter a valid name!"})]}),Object(x.jsxs)("div",{className:j,children:[Object(x.jsx)("label",{htmlFor:"street",children:"Street"}),Object(x.jsx)("input",{type:"text",id:"street",ref:l}),!c.street&&Object(x.jsx)("p",{children:"Please enter a valid street!"})]}),Object(x.jsxs)("div",{className:b,children:[Object(x.jsx)("label",{htmlFor:"postal",children:"Postal Code"}),Object(x.jsx)("input",{type:"text",id:"postal",ref:u}),!c.postalCode&&Object(x.jsx)("p",{children:"Please enter a valid postal code (5 characters long)!"})]}),Object(x.jsxs)("div",{className:O,children:[Object(x.jsx)("label",{htmlFor:"city",children:"City"}),Object(x.jsx)("input",{type:"text",id:"city",ref:d}),!c.city&&Object(x.jsx)("p",{children:"Please enter a valid city!"})]}),Object(x.jsxs)("div",{className:ce.a.actions,children:[Object(x.jsx)("button",{type:"button",onClick:e.onCancel,children:"Cancel"}),Object(x.jsx)("button",{className:ce.a.submit,children:"Confirm"})]})]})},se=function(e){var t,n=Object(o.useState)(!1),a=Object(s.a)(n,2),c=a[0],r=a[1],i=Object(o.useState)(!1),l=Object(s.a)(i,2),u=l[0],d=l[1],m=Object(o.useState)(!1),j=Object(s.a)(m,2),b=j[0],O=j[1],_=Object(o.useContext)(f),h="$".concat(_.totalAmount),p=function(e){_.removeItem(e)},v=function(e){_.addItem(Object(M.a)(Object(M.a)({},e),{},{amount:1}))},g=function(){var e=Object(y.a)(Object(C.a)().mark((function e(t){return Object(C.a)().wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return d(!0),e.next=3,fetch("https://food-98796-default-rtdb.firebaseio.com/order.json",{method:"POST",body:JSON.stringify({user:t,orderItems:_.items})});case 3:d(!1),O(!0),_.clearCart();case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}(),N=_.items.map((function(e){return Object(x.jsx)(ne,{name:e.name,amount:e.amount,price:e.price,onRemove:p.bind(null,e.id),onAdd:v.bind(null,e)},e.id)})),k=Object(x.jsxs)("div",{className:K.a.actions,children:[Object(x.jsx)("button",{className:K.a.buttonAlt,onClick:e.onClose,children:"Close"}),_.items.length>0&&Object(x.jsx)("button",{className:K.a.button,onClick:function(){r(!0)},children:"Order"})]});return u||b||(t=Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("ul",{className:K.a.cartItems,children:N}),Object(x.jsxs)("div",{className:K.a.total,children:[Object(x.jsx)("span",{children:"Total Amount"}),Object(x.jsx)("span",{children:h})]}),c&&Object(x.jsx)(re,{onCancel:e.onClose,onOrderSubmit:g}),!c&&k]})),u&&(t=Object(x.jsx)("p",{className:K.a.sending,children:"Sending data..."})),!u&&b&&(t=Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("p",{className:K.a.orderSuccess,children:"Order Successfully!!"}),Object(x.jsx)("div",{className:K.a.actions,children:Object(x.jsx)("button",{className:K.a.button,onClick:e.onClose,children:"Close"})})]})),Object(x.jsx)(U,{onClose:e.onClose,children:t})};var oe=function(){var e=Object(o.useState)(!1),t=Object(s.a)(e,2),n=t[0],a=t[1];return Object(x.jsxs)(L,{children:[n&&Object(x.jsx)(se,{onClose:function(){a(!1)}}),Object(x.jsx)(v,{onShowCart:function(){a(!0)}}),Object(x.jsx)("main",{children:Object(x.jsx)(z,{})})]})};r.a.createRoot(document.getElementById("root")).render(Object(x.jsx)(oe,{}))}],[[30,1,2]]]);
//# sourceMappingURL=main.c1e3bf7e.chunk.js.map